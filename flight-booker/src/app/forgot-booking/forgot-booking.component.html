<h3>Recover Booking Code</h3>
<p>Enter your email:</p>
<div class="EmailForm">
    <mat-form-field>
        <input [(ngModel)]="email" matInput (keyup.enter)="showDate()">
    </mat-form-field>
</div>
<div *ngIf="dateVisible">
    @if (emailIsValid()) {
        <p>Enter flight departure date:</p>
        <mat-form-field>
            <select [(ngModel)]="date" (change)="showCodes()" matNativeControl>
                <option label="---"></option>
                <option *ngFor="let date of dates">{{ date }}</option>
            </select>
        </mat-form-field>
    }
    @else {
        <p>No reservations found.</p>
    }
</div>
<div *ngIf="codesVisible">
    <p><b>Flights matching date {{date}}</b></p>
    <p *ngFor="let data of codesData">
        {{data.flight.originCode}}
        <mat-icon aria-hidden="false" fontIcon="trending_flat"></mat-icon>
        {{data.flight.destinationCode}}, {{convertTime(data.flight.departureTime)}}     <b>{{data.code}}</b>
    </p>
    @if (codesData.length == 0) {
        <p>No reservations found.</p>
    }
</div>